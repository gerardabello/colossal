<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8" />
    <title>Analosizer</title>
    <style>
      .controller-key {
        position: relative;
        display: inline-block;
        vertical-align: top;
        border: solid 1px black;
        text-align: center;
      }
      .white-key {
        background-color: white;
        color: black;
        width: 2em;
        height: 5em;
        margin: 0.5em 0.075em;
      }
      .black-key {
        background-color: black;
        color: white;
        width: 1.5em;
        height: 2.5em;
        margin: 0.5em -0.7875em;
        z-index: 1;
      }
      .control-label {
        position: absolute;
        width: 100%;
        left: 0;
        bottom: 0;
        line-height: 2em;
      }
    </style>
  </head>

  </body>

    <div id='app-container'>
    </div>

    <script id='app-template' type='text/html+ractive'>
<fieldset class='panel'>
  <legend>Analosizer</legend>

  {{#engine}}
    <div class='control-group'>
      <span class='instrument'>
        <input id='engaged' type='checkbox' checked={{engaged}} />
        ({{engaged ? '1' : '0'}})
        <label for='engaged'>Audio engine on/off</label>
      </span>
    </div>
  {{/engine}}

  <div id='controller-keyboard'>
    {{>controllerKey { keyType: 'white', label: 'C',  noteIndex:  0 }
  }}{{>controllerKey { keyType: 'black', label: 'C♯', noteIndex:  1 }
  }}{{>controllerKey { keyType: 'white', label: 'D',  noteIndex:  2 }
  }}{{>controllerKey { keyType: 'black', label: 'D♯', noteIndex:  3 }
  }}{{>controllerKey { keyType: 'white', label: 'E',  noteIndex:  4 }
  }}{{>controllerKey { keyType: 'white', label: 'F',  noteIndex:  5 }
  }}{{>controllerKey { keyType: 'black', label: 'F♯', noteIndex:  6 }
  }}{{>controllerKey { keyType: 'white', label: 'G',  noteIndex:  7 }
  }}{{>controllerKey { keyType: 'black', label: 'G♯', noteIndex:  8 }
  }}{{>controllerKey { keyType: 'white', label: 'A',  noteIndex:  9 }
  }}{{>controllerKey { keyType: 'black', label: 'A♯', noteIndex: 10 }
  }}{{>controllerKey { keyType: 'white', label: 'B',  noteIndex: 11 }
    }}
  </div>

  {{#partial controllerKey}}<a
    class='controller-key {{keyType}}-key'
    href='javascript:void(0)'
    on-mousedown='noteOn:{{noteIndex}}'
    on-mouseup='noteOff:{{noteIndex}}'
  >
    <span class='control-label'>{{label}}</span>
  </a>{{/partial}}
</fieldset>
    </script>

    <script src='./analosizer.js'></script>
  </body>

</html>
